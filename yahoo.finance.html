<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8">
  <title>Test</title>
  <script type="text/javascript" charset="utf-8" src="amount.js"></script>
  <script type="text/javascript" charset="utf-8" src="http://http://code.jquery.com/jquery-2.0.3.min.js"></script>
  <script type="text/javascript" charset="utf-8">
    (function(currency, to) {
      var glue = function(cl,t){for(vari=0;i<cl.length;cl[i++]+=t)return cl;},
          url = "http://query.yahooapis.com",
          path = "/v1/public/yql",
          query = '?q=select * from yahoo.finance.xchange where pair in (' + 
            glue(currency, to).join(",") + ')&format=json&diagnostics=true&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys&callback=';
          $.getJSON([url, path, query].join(''), function(data) {
            data = data.query.results.rate;
            for ( var i=0, r=[]; i < data.length; 
                r.push([data[i].id.substr(0, 3), data[i++].Rate*1])); 
            Amount.load_rates(r);  
            console.log(Amount.RUB.rate);
            console.log(Amount.EUR.rate);
            console.log(Amount.CHF.rate);
            console.log(Amount.USD.rate);
          });
    })(["EUR", "GBP", "RUB", "CHF"], "USD");
    /*http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20yahoo.finance.xchange%20where%20pair%20in%20(%22EURUSD%22%2C%22GBPUSD%22%2C%22RUBUSD%22%2C%22CHFUSD%22)&format=json&diagnostics=true&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys&callback=*/
  </script>
</head>
<body>
  
</body>
</html>